for(j in 1:200)
{
@
for(i in 1:2){
startzeros[i]=0
j=1
while(out[j]==0){
startzeros[i]=startzeros[i]+1
if(j==200) break
}
}
startzeroes=rep(0,12)
for(i in 1:12){startzeros[i]=0;j=1;while(out[j]==0){startzeros[i]=startzeros[i]+1;if(j==200) break;}}
startzeroes=rep(0,12);for(i in 1:12){j=1;while(out[j]==0){startzeroes[i]=startzeroes[i]+1;if(j==200) break;}}
startzeroes=rep(0,12);for(i in 1:12){j=1;while(out[i,j]==0){startzeroes[i]=startzeroes[i]+1;if(j==200) break;}}
startzeroes
startzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 1:200){if(out[i,j]!=0) break;startzeroes[i]=startzeroes[i]+1;}}
startzeroes
endzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 200:1){if(out[i,j]!=0) break;endzeroes[i]=endzeroes[i]+1;}}
endzeroes
paste(startzeroes[1],200-endzeroes,out[1,startzeroes[1]+1:200-endzeroes],sep=",")
paste(startzeroes[1],200-endzeroes[1],out[1,startzeroes[1]+1:200-endzeroes[1]],sep=",")
paste(startzeroes[1],200-endzeroes[1],out[1,(startzeroes[1]+1):(200-endzeroes[1])],sep=",")
paste(c(startzeroes[1],200-endzeroes[1],out[1,(startzeroes[1]+1):(200-endzeroes[1])]),sep=",")
paste(cbind(startzeroes[1],200-endzeroes[1],out[1,(startzeroes[1]+1):(200-endzeroes[1])]),sep=",")
paste(startzeroes[1],200-endzeroes[1],unlist(out[1,(startzeroes[1]+1):(200-endzeroes[1])]),sep=",")
unlist(out[1,(startzeroes[1]+1):(200-endzeroes[1])])
paste(startzeroes[1],200-endzeroes[1],unlist(out[1,(startzeroes[1]+1):(200-endzeroes[1])]),sep=",",collapse=T)
paste(startzeroes[1],200-endzeroes[1],unlist(out[1,(startzeroes[1]+1):(200-endzeroes[1])]),sep=",",collapse="")
paste(c(startzeroes[1],200-endzeroes[1],unlist(out[1,(startzeroes[1]+1):(200-endzeroes[1])])),sep=",",collapse="")
paste(c(startzeroes[1],200-endzeroes[1],unlist(out[1,(startzeroes[1]+1):(200-endzeroes[1])])),sep=",")
paste(c(startzeroes[1],200-endzeroes[1],unlist(out[1,(startzeroes[1]+1):(200-endzeroes[1])])),collapse=",")
paste(startzeroes,endzeroes)
paste(startzeroes,endzeroes,sep=",")
data = read.table("ccqenue_res_fiTQun.dat",sep=" ");out=cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
vals=rep("",12)
for(i in 1:12)vals[i]=paste0(out[(startzeroes[1]+1):(200-endzeroes[1]),i],collapse=",")
vals
for(i in 1:12)vals[i]=paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=",")
for(i in 1:12)vals[i]=if(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
for(i in 1:12)vals[i]=ifelse(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
vals
out
for(i in 1:12)vals[i]=ifelse(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
vals
paste(startzeroes,endzeroes,vals,sep=",")
data = read.table("ccqenue_res_fiTQun.dat",sep=" ");out=cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i]=startzeroes[i]+1;}}
endzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i]=endzeroes[i]+1;}}
for(i in 1:12)vals[i]=ifelse(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",")
paste("1st", "2nd", "3rd", collapse = ", ")
paste("1st", "2nd", "3rd", sep = ", ")
paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{")
cat(paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"))
cat(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"))
data = read.table("ccqenue_res_fiTQun.dat",sep=" ");out=cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i]=startzeroes[i]+1;}}
 endzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i]=endzeroes[i]+1;}}
for(i in 1:12)vals[i]=ifelse(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};")
write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),"test.dat")
q()
data = read.table("ccqenue_res_fiTQun.dat",sep=" ");out=cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i]=startzeroes[i]+1;}}
 endzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i]=endzeroes[i]+1;}}
write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),"ccqenue_res_fiTQun.glb.dat.dat")
write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),"ccqenue_res_fiTQun.glb.dat")
data = read.table("ccqenue_res_fiTQun.dat",sep=" ");out=cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));startzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i]=startzeroes[i]+1;}}endzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i]=endzeroes[i]+1;}}write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),"ccqenue_res_fiTQun.glb.dat")
data = read.table("ccqenue_res_fiTQun.dat",sep=" ");out=cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));startzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i]=startzeroes[i]+1;}};endzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i]=endzeroes[i]+1;}};write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),"ccqenue_res_fiTQun.glb.dat")
q()
data = read.table("ccqenue_res_fiTQun.dat",sep=" ");out=cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));startzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i]=startzeroes[i]+1;}};endzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i]=endzeroes[i]+1;}};write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),"ccqenue_res_fiTQun.glb.dat")
q()
f<-function(file){data = read.table("ccqenue_res_fiTQun.dat",sep=" ");out=cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));startzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i]=startzeroes[i]+1;}};endzeroes=rep(0,12);for(i in 1:12){j=1;for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i]=endzeroes[i]+1;}};write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),"ccqenue_res_fiTQun.glb.dat")
f<-function(file){
data = read.table(file,sep=" ");
f<-function(file){
data <- read.table(file,sep=" ");
out <- cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes <- rep(0,12);
for(i in 1:12){
j<-1
for(j in 1:200){
if(out[j,i]!=0) break;
startzeroes[i] <- startzeroes[i]+1;
}
}
endzeroes <- rep(0,12);
for(i in 1:12){
j<-1;
for(j in 200:1){
if(out[j,i]!=0) break;
endzeroes[i] <- =endzeroes[i]+1;
f<-function(file){
data <- read.table(file,sep=" ");
out <- cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes <- rep(0,12);
for(i in 1:12){
for(j in 1:200){
if(out[j,i]!=0) break;
startzeroes[i] <- startzeroes[i]+1;
}}
endzeroes <- rep(0,12); 
for(i in 1:12){for(j in 200:1){
if(out[j,i]!=0) break;
endzeroes[i] <- endzeroes[i]+1;
}}
vals=rep("",12);
for(i in 1:12)vals[i]=ifelse(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),sub(".dat",".glb.dat",file));
}
function("ccqenue_res_fiTQun.dat")
f("ccqenue_res_fiTQun.dat")
f("ccqenue_res_dis_new.dat")
q()
q
q()
f<-function(file){
data <- read.table(file,sep=" ");
out <- cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes <- rep(0,12);
for(i in 1:12){for(j in 1:200){
if(out[j,i]!=0) break;
startzeroes[i] <- startzeroes[i]+1;
}}
endzeroes <- rep(0,12);
for(i in 1:12){for(j in 200:1){
if(out[j,i]!=0) break;
endzeroes[i] <- endzeroes[i]+1;
}}
f<-function(file){
data <- read.table(file,sep=" ");
out <- cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes <- rep(0,12);for(i in 1:12){for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i] <- startzeroes[i]+1;}}
endzeroes <- rep(0,12);for(i in 1:12){for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i] <- endzeroes[i]+1;}}
vals=rep("",12);for(i in 1:12)vals[i]=ifelse(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
f<-function(file){
data <- read.table(file,sep=" ");
out <- cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes <- rep(0,12);for(i in 1:12){for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i] <- startzeroes[i]+1;}}
endzeroes <- rep(0,12);for(i in 1:12){for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i] <- endzeroes[i]+1;}}
vals <- rep("",12);for(i in 1:12)vals[i] <- ifelse(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
write(paste0("{",paste(ifelse(startzeroes==200,200,startzeroes+1),ifelse(endzeroes==200,200,200-endzeroes),vals,sep=",",collapse="}:\n{"),"};"),sub(".dat",".glb.dat",file));
}
my.files=list.files(pattern = "new.dat")
my.files
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"))
my.files
lapply(my.files, FUN = f)
q()
f<-function(file){
data <- read.table(file,sep=" ");
out <- cbind(rowSums(data[,1:7]),rowSums(data[,8:9]),rowSums(data[,10:11]),rowSums(data[,12:13]),rowSums(data[,14:15]),rowSums(data[,16:17]),rowSums(data[,18:21]),rowSums(data[,22:25]),rowSums(data[,26:30]),rowSums(data[,31:70]),rowSums(data[,71:120]),rowSums(data[,121:200]));
startzeroes <- rep(0,12);for(i in 1:12){for(j in 1:200){if(out[j,i]!=0) break;startzeroes[i] <- startzeroes[i]+1;}}
endzeroes <- rep(0,12);for(i in 1:12){for(j in 200:1){if(out[j,i]!=0) break;endzeroes[i] <- endzeroes[i]+1;}}
vals <- rep("",12);for(i in 1:12)vals[i] <- ifelse(startzeroes[i]==200,"0",paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i],collapse=","))
write(paste0("{",paste(ifelse(startzeroes==200,0,startzeroes+1),200-endzeroes,vals,sep=",",collapse="}:\n{"),"};"),sub(".dat",".glb.dat",file));
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"))
lapply(my.files, FUN = f)
q()
// test
# test
f<-function(file){
  data <- read.table(file, sep=" ");
#  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
  out <- data;
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes+1), 200-endzeroes, vals, sep=",", collapse="}:\n{"), "};"), sub(".dat", ".full.glb.dat", file));
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"));
lapply(my.files, FUN = f);
.q
q()
f<-function(file){
  data <- read.table(file, sep=" ");
#  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
  out <- data[,1:200];
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes+1), 200-endzeroes, vals, sep=",", collapse="}:\n{"), "};"), sub(".dat", ".full.glb.dat", file));
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"));
lapply(my.files, FUN = f);
q()
sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res","\\4_res_\\U\\2\\E\\3","ccqenue_sig_res_dis_new.dat",perl=T)
sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res","\\4_res_\\U\\2\\E\\3","nue_res_CCother_dis_new.dat",perl=T)
sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)(_res.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.glb.dat","nue_res_CCother_dis_new.dat",perl=T)
sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)(_res.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.glb.dat","ccothernumubar_res_dis_new.dat",perl=T)
sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res(.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.glb.dat","ccothernumubar_res_dis_new.dat",perl=T)
.q
q()
f<-function(file){
  data <- read.table(file, sep=" ");
#  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
  out <- data[,1:200];
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  outfile <- sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res(.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.full.glb.dat",file,perl=T);
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes+1), 200-endzeroes, vals, sep=",", collapse="}:\n{"), "};"), file);
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"));
lapply(my.files, FUN = f);
q()
f<-function(file){
  data <- read.table(file, sep=" ");
#  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
  out <- data[,1:200];
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  outfile <- sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res(.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.full.glb.dat",file,perl=T);
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes+1), 200-endzeroes, vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"));
lapply(my.files, FUN = f);
.q
q()
f<-function(file){
  data <- read.table(file, sep=" ");
#  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
  out <- data[,1:200];
  startzeroes <- rep(0, 200);
  for(i in 1:200){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,200);
  for(i in 1:200){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 200);
  for(i in 1:200)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  outfile <- sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res(.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.full.glb.dat",file,perl=T);
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes+1), 200-endzeroes, vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"));
lapply(my.files, FUN = f);
q()
f<-function(file){
  data <- read.table(file, sep=" ");
  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
#  out <- data[,1:200];
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:12){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  outfile <- sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res(.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.glb.dat",file,perl=T);
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes), ifelse(startzeroes==200, 0, 199-endzeroes), vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"));
lapply(my.files, FUN = f);
q()
f<-function(file){
  data <- read.table(file, sep=" ");
  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
#  out <- data[,1:200];
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  outfile <- sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res(.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.glb.dat",file,perl=T);
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes), ifelse(startzeroes==200, 0, 199-endzeroes), vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"));
lapply(my.files, FUN = f);
q()
f<-function(file){
  data <- read.table(file, sep=" ");
#  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
  out <- data[,1:200];
  startzeroes <- rep(0, 200);
  for(i in 1:200){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,200);
  for(i in 1:200){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 200);
  for(i in 1:200)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  outfile <- sub("((nc|ccqe|cc)(1pi|other)?)(nu(e|mu)(bar)?(_sig)?)_res(.*(fiTQun|new)).dat","\\4_res_\\U\\2\\E\\3\\8.all.glb.dat",file,perl=T);
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes), ifelse(startzeroes==200, 0, 199-endzeroes), vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=c(list.files(pattern = "new.dat"),list.files(pattern = "fiTQun.dat"));
lapply(my.files, FUN = f);
q()
f<-function(file){
  data <- read.table(file, sep=" ");
  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
#  out <- data[,1:200];
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  outfile <- sub(".dat",".glb.dat",file);
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes), ifelse(startzeroes==200, 0, 199-endzeroes), vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=c(list.files(pattern = "*N*new.dat"),list.files(pattern = "*N*fiTQun.dat"));
my.files
?list.files
my.files=c(list.files(pattern = "*N*new.dat"),list.files(pattern = "*N*fiTQun.dat"));
?list.files
my.files
my.files=c(list.files(pattern = ".*N.*new.dat"),list.files(pattern = ".*N.*fiTQun.dat"));
my.files
lapply(my.files, FUN = f);
.q
q()
f<-function(file){
  data <- read.table(file, sep=" ");
#  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
  out <- data[,1:200];
  startzeroes <- rep(0, 200);
  for(i in 1:200){
    for(j in 1:200){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,200);
  for(i in 1:200){
    for(j in 200:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 200);
  for(i in 1:200)
    vals[i] <- ifelse(startzeroes[i]==200, "0", paste0(out[(startzeroes[i]+1):(200-endzeroes[i]),i], collapse=","));
  outfile <- sub(".dat",".full.glb.dat",file);
  write(paste0("{", paste(ifelse(startzeroes==200, 0, startzeroes), ifelse(startzeroes==200, 0, 199-endzeroes), vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=c(list.files(pattern = ".*N.*new.dat"),list.files(pattern = ".*N.*fiTQun.dat"));
lapply(my.files, FUN = f);
q()
q()
q()
T
q()
q()
f<-function(file){
  data <- read.table(file, sep=" ");
  data <- (data[c(T,F),]+data[c(F,T),])/2
  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
#  out <- data[,1:100];
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:100){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 100:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==100, "0", paste0(out[(startzeroes[i]+1):(100-endzeroes[i]),i], collapse=","));
  outfile <- sub(".dat",".small.glb.dat",file);
  write(paste0("{", paste(ifelse(startzeroes==100, 0, startzeroes), ifelse(startzeroes==100, 0, 99-endzeroes), vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=c(list.files(pattern = ".*N.*new.dat"),list.files(pattern = ".*N.*fiTQun.dat"));
lapply(my.files, FUN = f);
q()
f<-function(file){
  data <- read.table(file, sep=" ");
  data <- (data[c(T,F),]+data[c(F,T),])/2
  out <- cbind(rowSums(data[,1:7]), rowSums(data[,8:9]), rowSums(data[,10:11]), rowSums(data[,12:13]), rowSums(data[,14:15]), rowSums(data[,16:17]), rowSums(data[,18:21]), rowSums(data[,22:25]), rowSums(data[,26:30]), rowSums(data[,31:70]), rowSums(data[,71:120]), rowSums(data[,121:200]));
#  out <- data[,1:100];
  startzeroes <- rep(0, 12);
  for(i in 1:12){
    for(j in 1:100){
      if(out[j,i] != 0) break;
      startzeroes[i] <- startzeroes[i] + 1;
    }
  }
  endzeroes <- rep(0,12);
  for(i in 1:12){
    for(j in 100:1){
      if(out[j,i] != 0) break;
      endzeroes[i] <- endzeroes[i] + 1;
    }
  }
  vals <- rep("", 12);
  for(i in 1:12)
    vals[i] <- ifelse(startzeroes[i]==100, "0", paste0(out[(startzeroes[i]+1):(100-endzeroes[i]),i], collapse=","));
  outfile <- sub(".dat",".small.glb.dat",file);
  write(paste0("{", paste(ifelse(startzeroes==100, 0, startzeroes), ifelse(startzeroes==100, 0, 99-endzeroes), vals, sep=",", collapse="}:\n{"), "};"), outfile);
}
my.files=list.files(pattern = "_res.dat");

q()
my.files=list.files(pattern = "_res_dis.dat");
lapply(my.files, FUN = f);
q()
